{"ast":null,"code":"import posts from \"../data/posts.json\";\nconst initState = {\n  blog_posts: posts,\n  selected_post: \"\"\n};\nconst storeReducer = (state = initState, action) => {\n  if (action.type === 'ADD_POST') {\n    return {\n      ...state,\n      blog_posts: [action.payload, ...state.blog_posts]\n    };\n  }\n  if (action.type === 'SELECT_POST') {\n    return {\n      ...state,\n      selected_post: action.payload\n    };\n  }\n  if (action.type === 'ADD_COMMENT') {\n    let old_posts = state.blog_posts.filter(item => item.post != state.selected_post.post);\n    state.selected_post.user_comments = [action.payload, ...state.selected_post.user_comments];\n    return {\n      ...state,\n      blog_posts: [...old_posts, state.selected_post]\n    };\n  }\n  if (action.type === 'DELETE_COMMENT') {\n    let old_posts = state.blog_posts.filter(item => item.post != state.selected_post.post);\n    let new_comments = state.selected_post.user_comments.filter(item => item != action.payload);\n    let updatedPost = state.selected_post;\n    updatedPost.user_comments = new_comments;\n    console.log(updatedPost);\n    return {\n      blog_posts: [updatedPost, ...old_posts],\n      selected_post: updatedPost\n    };\n  }\n  if (action.type === 'DELETE_POST') {\n    let new_posts = state.blog_posts.filter(item => item.post != action.payload);\n    return {\n      ...state,\n      blog_posts: new_posts\n    };\n  }\n  return state;\n};\nexport default storeReducer;","map":{"version":3,"names":["posts","initState","blog_posts","selected_post","storeReducer","state","action","type","payload","old_posts","filter","item","post","user_comments","new_comments","updatedPost","console","log","new_posts"],"sources":["/Users/batie/Documents/Projects/Melsoft/blog/client/src/store/store.js"],"sourcesContent":["import posts from \"../data/posts.json\";\n\n\nconst initState ={\n\n    blog_posts:posts,\n    selected_post: \"\",\n  \n\n}\n\nconst storeReducer = (state=initState, action) =>{\n\n\n\n   if(action.type ==='ADD_POST'){\n\n    return{\n        ...state,\n        blog_posts:[action.payload, ...state.blog_posts]\n    }\n   }\n\n   if(action.type ==='SELECT_POST'){\n      \n    return{\n        ...state,\n        selected_post: action.payload,\n       \n    }\n   }\n\n   if(action.type === 'ADD_COMMENT'){\n    let old_posts = state.blog_posts.filter(item=> item.post != state.selected_post.post )\n    \n    state.selected_post.user_comments = [action.payload, ...state.selected_post.user_comments]\n    return{\n        ...state,\n        blog_posts: [...old_posts,state.selected_post ]\n        \n    }\n   }\n\n      if(action.type === 'DELETE_COMMENT'){\n        let old_posts = state.blog_posts.filter(item=> item.post != state.selected_post.post )\n        let new_comments =  state.selected_post.user_comments.filter(item=> item != action.payload)\n        let updatedPost = state.selected_post\n        updatedPost.user_comments =new_comments\n        console.log(updatedPost)\n     return{\n        \n        blog_posts: [updatedPost, ...old_posts],\n        selected_post:updatedPost\n    }\n   }\n\n   if(action.type === 'DELETE_POST'){\n\n    let new_posts = state.blog_posts.filter(item=> item.post != action.payload )\n    return{\n       ...state,\n       blog_posts: new_posts\n   }\n  }\n\n\n  \n\n\n   return state;\n}\n\nexport default storeReducer\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,oBAAoB;AAGtC,MAAMC,SAAS,GAAE;EAEbC,UAAU,EAACF,KAAK;EAChBG,aAAa,EAAE;AAGnB,CAAC;AAED,MAAMC,YAAY,GAAGA,CAACC,KAAK,GAACJ,SAAS,EAAEK,MAAM,KAAI;EAI9C,IAAGA,MAAM,CAACC,IAAI,KAAI,UAAU,EAAC;IAE5B,OAAM;MACF,GAAGF,KAAK;MACRH,UAAU,EAAC,CAACI,MAAM,CAACE,OAAO,EAAE,GAAGH,KAAK,CAACH,UAAU;IACnD,CAAC;EACF;EAEA,IAAGI,MAAM,CAACC,IAAI,KAAI,aAAa,EAAC;IAE/B,OAAM;MACF,GAAGF,KAAK;MACRF,aAAa,EAAEG,MAAM,CAACE;IAE1B,CAAC;EACF;EAEA,IAAGF,MAAM,CAACC,IAAI,KAAK,aAAa,EAAC;IAChC,IAAIE,SAAS,GAAGJ,KAAK,CAACH,UAAU,CAACQ,MAAM,CAACC,IAAI,IAAGA,IAAI,CAACC,IAAI,IAAIP,KAAK,CAACF,aAAa,CAACS,IAAK,CAAC;IAEtFP,KAAK,CAACF,aAAa,CAACU,aAAa,GAAG,CAACP,MAAM,CAACE,OAAO,EAAE,GAAGH,KAAK,CAACF,aAAa,CAACU,aAAa,CAAC;IAC1F,OAAM;MACF,GAAGR,KAAK;MACRH,UAAU,EAAE,CAAC,GAAGO,SAAS,EAACJ,KAAK,CAACF,aAAa;IAEjD,CAAC;EACF;EAEG,IAAGG,MAAM,CAACC,IAAI,KAAK,gBAAgB,EAAC;IAClC,IAAIE,SAAS,GAAGJ,KAAK,CAACH,UAAU,CAACQ,MAAM,CAACC,IAAI,IAAGA,IAAI,CAACC,IAAI,IAAIP,KAAK,CAACF,aAAa,CAACS,IAAK,CAAC;IACtF,IAAIE,YAAY,GAAIT,KAAK,CAACF,aAAa,CAACU,aAAa,CAACH,MAAM,CAACC,IAAI,IAAGA,IAAI,IAAIL,MAAM,CAACE,OAAO,CAAC;IAC3F,IAAIO,WAAW,GAAGV,KAAK,CAACF,aAAa;IACrCY,WAAW,CAACF,aAAa,GAAEC,YAAY;IACvCE,OAAO,CAACC,GAAG,CAACF,WAAW,CAAC;IAC3B,OAAM;MAEHb,UAAU,EAAE,CAACa,WAAW,EAAE,GAAGN,SAAS,CAAC;MACvCN,aAAa,EAACY;IAClB,CAAC;EACF;EAEA,IAAGT,MAAM,CAACC,IAAI,KAAK,aAAa,EAAC;IAEhC,IAAIW,SAAS,GAAGb,KAAK,CAACH,UAAU,CAACQ,MAAM,CAACC,IAAI,IAAGA,IAAI,CAACC,IAAI,IAAIN,MAAM,CAACE,OAAQ,CAAC;IAC5E,OAAM;MACH,GAAGH,KAAK;MACRH,UAAU,EAAEgB;IAChB,CAAC;EACF;EAMC,OAAOb,KAAK;AACf,CAAC;AAED,eAAeD,YAAY"},"metadata":{},"sourceType":"module"}